(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{8225:function(e,a,l){Promise.resolve().then(l.bind(l,7965))},7965:function(e,a,l){"use strict";l.r(a);var t=l(7437),s=l(2265),n=l(9222);a.default=()=>{let[e,a]=(0,s.useState)([]),[l,o]=(0,s.useState)(!1),[r,c]=(0,s.useState)({name:"",email:"",phoneNumber:"",collegeName:""}),[d,i]=(0,s.useState)(null),openForm=()=>{o(!0)},handleInputChange=e=>{let{name:a,value:l}=e.target;c({...r,[a]:l})};(0,s.useEffect)(()=>{n.Z.get("".concat("http://localhost:1337","/api/downloads?populate=*"),{headers:{Authorization:"Bearer ".concat("9e8d1812210f8e0ce80ceff967f22a34704ecc77e013b703cb061418ef1ac00bb839beb58f46100754b332584e5db41ba742c75b0f2441019590b490be545200e74ec62126e953945d8798b1e5ce59dc44bfb5827bff8043d8082023acf48f036b1ca6800adf27d46dcaa1989f7434b6faebaa6a03e9f75b14a6d0510734d74d")}}).then(e=>{console.log("Datasets:",e.data.data),a(e.data.data)}).catch(e=>console.error("Error fetching datasets:",e))},[]);let handleCardClick=e=>{i(e),openForm()},handleSubmit=async()=>{try{let e=await n.Z.post("".concat("http://localhost:1337","/api/forms/"),{data:r},{headers:{Authorization:"Bearer ".concat("9e8d1812210f8e0ce80ceff967f22a34704ecc77e013b703cb061418ef1ac00bb839beb58f46100754b332584e5db41ba742c75b0f2441019590b490be545200e74ec62126e953945d8798b1e5ce59dc44bfb5827bff8043d8082023acf48f036b1ca6800adf27d46dcaa1989f7434b6faebaa6a03e9f75b14a6d0510734d74d")}});console.log("Form submission response:",e.data),d?window.location.href=d.attributes.downloadLink:console.error("No dataset selected.")}catch(e){console.error("Error submitting form:",e)}};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("section",{className:"w-full mx-auto",children:[(0,t.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl text-blue-700 mt-10 lg:pl-8 mb-4 ml-8",children:"Datasets Available"}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed text-justify pl-6 pr-6 lg:pr-16 lg:pl-16 lg:w-90%",children:"The datasets for which you have not requested download permissions are listed below. Click the download button to generate the download token."})})]}),(0,t.jsx)("section",{className:"text-gray-600 -mt-20 body-font",children:(0,t.jsx)("div",{className:"container px-5 py-24 mx-auto",children:(0,t.jsx)("div",{className:"flex flex-wrap -m-4",children:e.map(e=>{let{id:a,attributes:{title:l,description:s,image:{data:n},downloadLink:o}}=e,r="".concat("http://localhost:1337").concat(n[0].attributes.url);return(0,t.jsx)("div",{className:"p-4 md:w-1/3",children:(0,t.jsxs)("div",{className:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden flex flex-col download-card",onClick:()=>handleCardClick(e),children:[(0,t.jsx)("img",{className:"lg:h-full md:h-full w-full object-cover object-center",src:r,alt:l}),(0,t.jsxs)("div",{className:"p-6 flex-grow",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h1",{className:"title-font text-lg font-medium text-gray-900 mb-3",children:l}),(0,t.jsx)("p",{className:"leading-relaxed text-justify",children:s})]}),(0,t.jsx)("div",{className:"flex items-center justify-center mt-auto",children:(0,t.jsx)("button",{onClick:openForm,className:"text-indigo-500 inline-flex items-center bg-indigo-500 text-white px-6 py-2 rounded-full hover:bg-indigo-600 focus:ring-4 focus:outline-none focus:ring-blue-300",children:"Download Now"})})]})]})},a)})})})}),l&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg relative",children:[(0,t.jsx)("button",{onClick:()=>{o(!1),i(null)},className:"absolute top-2 right-2 text-gray-500 cursor-pointer",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-6 w-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Enter Your Details"}),(0,t.jsxs)("form",{children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-gray-700",children:"Name"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:r.name,onChange:handleInputChange,className:"w-full border-gray-300 rounded-md p-2"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-gray-700",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:handleInputChange,className:"w-full border-gray-300 rounded-md p-2"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"phoneNumber",className:"block text-gray-700",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:r.phoneNumber,onChange:handleInputChange,className:"w-full border-gray-300 rounded-md p-2"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"collegeName",className:"block text-gray-700",children:"College Name"}),(0,t.jsx)("input",{type:"text",id:"collegeName",name:"collegeName",value:r.collegeName,onChange:handleInputChange,className:"w-full border-gray-300 rounded-md p-2"})]}),(0,t.jsx)("button",{type:"button",onClick:handleSubmit,className:"bg-indigo-500 text-white px-4 py-2 rounded-full hover:bg-indigo-600 focus:outline-none focus:ring-4 focus:ring-blue-300",children:"Submit"})]})]})})]})}}},function(e){e.O(0,[750,971,472,744],function(){return e(e.s=8225)}),_N_E=e.O()}]);